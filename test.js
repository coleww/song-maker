var tap = require('tap')
var processor = require('./processTab')
var fs =  require ('fs')
var tab = fs.readFileSync('./sampleTab.txt').toString()

tap.equal(24, processor.getSections(tab).length)

var sectionTab = [
  'e|----------xxxx--------0----------xxxx--------0-----------|',
  'B|----------xxxx--3--3--0----------xxxx--------0-----------|',
  'G|----------xxxx--3--3--0----------xxxx--6--6--0-----------|',
  'D|--3--3--3-xxxx--3--3--0--6--6--6-xxxx--6--6--0-----------|',
  'A|--3--3--3-xxxx--1--1--0--6--6--6-xxxx--4--4--0-----------|',
  'E|--1--1--1-xxxx--------0--4--4--4-xxxx--------0-----------|']
var sectionNotes = [ [ '', '', 65, '', 65, '', 65, '', '', '', '', '', '', '', '', 64, '', 68, '', 68, '', 68, '', '', '', '', '', '', '', '', 64, '', '', '', '', '', '', '', '', '', '', '' ],
[ '', '', 62, '', 62, '', 62, '', '', 60, '', 60, '', 59, '', 65, '', 65, '', 65, '', '', 63, '', 63, '', 59, '', '', '', '', '', '', '', '', '', '', '' ],
[ '', '', 58, '', 58, '', 58, '', '', 58, '', 58, '', 55, '', 61, '', 61, '', 61, '', '', 61, '', 61, '', 55, '', '', '', '', '', '', '', '', '', '', '' ],
[ '', '', '', '', '', '', '', '', '', '', '', '', 53, '', 53, '', 50, '', '', '', '', '', '', '', '', '', '', '', 56, '', 56, '', 50, '', '', '', '', '', '', '', '', '', '', '' ],
[ '', '', '', '', '', '', '', '', '', '', '', '', 48, '', 48, '', 45, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 45, '', '', '', '', '', '', '', '', '', '', '' ],
[ '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 40, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 40, '', '', '', '', '', '', '', '', '', '', '' ] ]
tap.deepEqual(sectionNotes, processor.getSections(tab)[0])

