var tap = require('tap')
var processor = require('./processTab')
var fs =  require ('fs')
var tab = fs.readFileSync('./sampleTab.txt').toString()

tap.equal(processor.getSections(tab).length, 24)

var sectionTab = [
  'e|----------xxxx--------0----------xxxx--------0-----------|',
  'B|----------xxxx--3--3--0----------xxxx--------0-----------|',
  'G|----------xxxx--3--3--0----------xxxx--6--6--0-----------|',
  'D|--3--3--3-xxxx--3--3--0--6--6--6-xxxx--6--6--0-----------|',
  'A|--3--3--3-xxxx--1--1--0--6--6--6-xxxx--4--4--0-----------|',
  'E|--1--1--1-xxxx--------0--4--4--4-xxxx--------0-----------|']
var sectionNotes = [ [ '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '', 'e',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '', 'e',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '', '' ],
  [ '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '', 'd',    '', 'd',    '', 'b',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '', 'b',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '', '' ],
  [ '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '', 'a#',    '', 'a#',    '', 'g',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '', 'c#',    '', 'c#',    '', 'g',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '', '' ],
  [ '',    '', 'f',    '', 'f',    '', 'f',    '',    '', 'f',    '', 'f',    '', 'd',    '', 'g#',    '', 'g#',    '', 'g#',    '',    '', 'g#',    '', 'g#',    '', 'd',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '', '' ],
  [ '',    '', 'c',    '', 'c',    '', 'c',    '',    '', 'a#',    '', 'a#',    '', 'a',    '', 'd#',    '', 'd#',    '', 'd#',    '',    '', 'c#',    '', 'c#',    '', 'a',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '', '' ],
  [ '',    '', 'f',    '', 'f',    '', 'f',    '',    '',    '',    '',    '',    '',    '',    '', 'e',    '', 'g#',    '', 'g#',    '', 'g#',    '',    '',    '',    '',    '',    '',    '',    '', 'e',    '',    '',    '',    '',    '',    '',    '',    '',    '',    '', '' ] ]

tap.deepEqual(processor.replaceNotes(sectionTab), sectionNotes)